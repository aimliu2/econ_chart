---
layout: default
title: Index
---


<div data-include="hero"></div>

<script>
    function ready(fn) {
    if (document.readyState !== 'loading') {
            fn();
        } else {
            document.addEventListener('DOMContentLoaded', fn);
        }
    }

    function main() {
        console.log( "Doc ready" );
        console.log( "V3.1" );
        let includes = document.querySelectorAll("div[data-include]")
        includes.forEach(async(div) => { // this el = div
            // find module
            let data_name = includes[0].dataset.include
            let modulesPath = `modules/${data_name}.html` // i.e. modules/hero.html

            // load module
            let response = await fetch(modulesPath);
            let m = await response.text();
            console.log( `${data_name} module loaded` );

            // execute module
            // must use el.appendchild to prevent css/js broken
            let node_div = document.createElement('div'); // create temp div-wrapper
            node_div.innerHTML = m
            div.appendChild(node_div.children[0])
        });        
    }
    // execute homepage
    ready(main())
</script>